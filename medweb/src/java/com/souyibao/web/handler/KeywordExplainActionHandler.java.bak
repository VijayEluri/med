package com.souyibao.web.handler;

import java.util.Collection;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.souyibao.shared.model.Keyword;
import com.souyibao.web.Util.MedWebUtil;
import com.souyibao.web.model.ActionForward;
import com.souyibao.web.model.ActionForwardMapping;
import com.souyibao.web.model.IActionHandler;

public class KeywordExplainActionHandler implements IActionHandler {

	@Override
	public ActionForward execute(ActionForwardMapping mapping,
			HttpServletRequest request, HttpServletResponse response)
			throws Exception {
//		String eType = request.getParameter("eType");
//		if (!MedWebUtil.isValidEType(eType)) {
//			// default to undefined query type
//			eType = WebConstants.DOCUMENT_ID_TYPE;
//		}
//
//		String eId = request.getParameter("eId");
//		if ((eId == null) || (eId.equals(""))) {
//			response.getWriter().write(
//					"no keyword parameter has been specified.");
//			return null;
//		}
//
//		String explanation = MedWebUtil.getExplanationByType(eType, eId);
//
//		request.setAttribute("explanation", explanation);

		String queryString = request.getParameter("q");
		if (queryString != null) {
			Collection<Keyword> keywords = MedWebUtil
					.getKeywordByQryString(queryString);
			request.setAttribute("keywordExplain", keywords);
		} 
		
		return mapping.successForward();
	}

}
